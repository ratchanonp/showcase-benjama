import{r as o,j as e,a as K,g as q,d as X}from"./index-Cv7PuvJE.js";import{a as G,b as V,e as S,P as $,g as J,D as Q,h as U,i as W,j as Y,k as Z,N as ee}from"./navbar-CKgiNdTi.js";import{A as te}from"./awardCard-CH6FRk6C.js";import{c as I,u as se,P as A,b as E,a as L}from"./index-BIx2ormR.js";import{u as re}from"./index-BICUkeyL.js";import{u as ae,t as ne,F as oe,a as P,b as D,c as R,f as ce,d as ie,z as v}from"./index-Bpc60013.js";import"./separator-BwzGn8mb.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=I("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function le(){const[t,n]=o.useState([]),[s,c]=o.useState(!0);return o.useEffect(()=>{(async()=>{c(!0);const r=K(X,"awards"),i=(await q(r)).docs.map(m=>({id:m.id,...m.data()}));n(i),c(!1)})()},[]),s?e.jsx("p",{children:"Loading..."}):t.length===0?e.jsx("p",{children:"ไม่มีข้อมูล"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:t.map(a=>o.createElement(te,{...a,key:a.id}))})}var w="Checkbox",[ue,Se]=G(w),[he,me]=ue(w),M=o.forwardRef((t,n)=>{const{__scopeCheckbox:s,name:c,checked:a,defaultChecked:r,required:l,disabled:i,value:m="on",onCheckedChange:j,form:x,...k}=t,[u,b]=o.useState(null),C=se(n,d=>b(d)),y=o.useRef(!1),N=u?x||!!u.closest("form"):!0,[f=!1,g]=V({prop:a,defaultProp:r,onChange:j}),z=o.useRef(f);return o.useEffect(()=>{const d=u==null?void 0:u.form;if(d){const p=()=>g(z.current);return d.addEventListener("reset",p),()=>d.removeEventListener("reset",p)}},[u,g]),e.jsxs(he,{scope:s,state:f,disabled:i,children:[e.jsx(A.button,{type:"button",role:"checkbox","aria-checked":h(f)?"mixed":f,"aria-required":l,"data-state":B(f),"data-disabled":i?"":void 0,disabled:i,value:m,...k,ref:C,onKeyDown:S(t.onKeyDown,d=>{d.key==="Enter"&&d.preventDefault()}),onClick:S(t.onClick,d=>{g(p=>h(p)?!0:!p),N&&(y.current=d.isPropagationStopped(),y.current||d.stopPropagation())})}),N&&e.jsx(xe,{control:u,bubbles:!y.current,name:c,value:m,checked:f,required:l,disabled:i,form:x,style:{transform:"translateX(-100%)"},defaultChecked:h(r)?!1:r})]})});M.displayName=w;var _="CheckboxIndicator",H=o.forwardRef((t,n)=>{const{__scopeCheckbox:s,forceMount:c,...a}=t,r=me(_,s);return e.jsx($,{present:c||h(r.state)||r.state===!0,children:e.jsx(A.span,{"data-state":B(r.state),"data-disabled":r.disabled?"":void 0,...a,ref:n,style:{pointerEvents:"none",...t.style}})})});H.displayName=_;var xe=t=>{const{control:n,checked:s,bubbles:c=!0,defaultChecked:a,...r}=t,l=o.useRef(null),i=J(s),m=re(n);o.useEffect(()=>{const x=l.current,k=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(k,"checked").set;if(i!==s&&b){const C=new Event("click",{bubbles:c});x.indeterminate=h(s),b.call(x,h(s)?!1:s),x.dispatchEvent(C)}},[i,s,c]);const j=o.useRef(h(s)?!1:s);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??j.current,...r,tabIndex:-1,ref:l,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h(t){return t==="indeterminate"}function B(t){return h(t)?"indeterminate":t?"checked":"unchecked"}var O=M,fe=H;const T=o.forwardRef(({className:t,...n},s)=>e.jsx(O,{ref:s,className:E("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(fe,{className:E("flex items-center justify-center text-current"),children:e.jsx(de,{className:"h-4 w-4"})})}));T.displayName=O.displayName;const pe=v.object({awardTypes:v.array(v.string())});function be(){const t=[{id:"academic",name:"ผลงานวิชาการ"},{id:"sport",name:"ผลงานกีฬา"}],n=ae({resolver:ne(pe),defaultValues:{awardTypes:[]}}),s=c=>{console.log(c)};return e.jsx(oe,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-5",children:[e.jsx(P,{control:n.control,name:"awardTypes",render:({field:c})=>e.jsxs(D,{children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-base",children:"ประเภท"}),e.jsx(ce,{children:"เลือกประเภทของผลงาน "})]}),t.map(a=>e.jsx(P,{control:n.control,name:"awardTypes",render:({field:r})=>e.jsxs(D,{id:a.id,className:"flex flex-row items-end space-x-3",children:[e.jsx(ie,{children:e.jsx(T,{checked:r.value.includes(a.id),onCheckedChange:l=>l?r.onChange([...r.value,a.id]):r.onChange(r.value.filter(i=>i!==a.id))})}),e.jsx(R,{children:a.name})]})},a.id))]})}),e.jsx(L,{type:"submit",children:"ใช้งานตัวกรอง"})]})})}function je(){return e.jsxs(Q,{children:[e.jsx(U,{children:e.jsxs(L,{variant:"outline",children:[e.jsx(F,{}),"ตัวกรอง & จัดเรียง"]})}),e.jsxs(W,{children:[e.jsx(Y,{children:e.jsx(Z,{children:e.jsxs("p",{className:"flex items-center",children:[e.jsx(F,{className:"mr-2"}),"ตัวกรอง & จัดเรียง"]})})}),e.jsx("div",{className:"px-5 pb-5",children:e.jsx(be,{})})]})]})}function Ee(){return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"p-5 space-y-5 max-w-screen-xl mx-auto",children:[e.jsxs("header",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"ผลงาน"}),e.jsx("p",{className:"text-gray-400",children:"ค้นหาผลงาน หรือ Portfolio"})]}),e.jsx(je,{})]}),e.jsx("main",{children:e.jsx(le,{})})]})]})}export{Ee as default};
