import{i as y,r as i,A as v,j as e,o as C,t as c}from"./index-Cv7PuvJE.js";import{S as u,C as F,a as S,d as B,e as k,b as E,c as I}from"./separator-BwzGn8mb.js";import{a as r,L as l,B as L}from"./index-BIx2ormR.js";import{u as A,F as R,a as o,b as m,c as x,d,e as j,z as t,t as z}from"./index-Bpc60013.js";import{I as h}from"./input-Di0z1uxm.js";const D=t.object({email:t.string().email({message:"อีเมลล์ไม่ถูกต้อง"}),password:t.string().min(6,{message:"รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"})});function G(){const p=y(),f=C("/auth/signIn"),{redirect:g}=f.useSearch({}),{isAuthenticated:n,login:N}=i.useContext(v),a=A({resolver:z(D),defaultValues:{email:"",password:""}});async function w(s){try{await N(s.email,s.password),c.success("เข้าสู่ระบบสำเร็จ")}catch(b){c.error("เข้าสู่ระบบไม่สำเร็จ",{description:b.message})}}return i.useEffect(()=>{n&&p({to:g||"/"})},[n]),e.jsxs("div",{className:"space-y-5",children:[e.jsx(r,{variant:"outline",className:"w-full",children:"Login with Google"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{}),e.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-2 bg-white text-sm text-gray-500",children:"หรือ"})]}),e.jsx(R,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(w),className:"space-y-2.5",children:[e.jsx(o,{control:a.control,name:"email",render:({field:s})=>e.jsxs(m,{children:[e.jsx(x,{children:"อีเมล"}),e.jsx(d,{children:e.jsx(h,{type:"email",placeholder:"email@benjama.ac.th",...s})}),e.jsx(j,{})]})}),e.jsx(o,{control:a.control,name:"password",render:({field:s})=>e.jsxs(m,{children:[e.jsxs(x,{className:"inline-flex justify-between w-full",children:["รหัสผ่าน"," ",e.jsx(l,{to:"/auth/forgot-password",className:"text-red-500",children:"ลืมรหัสผ่าน?"})]}),e.jsx(d,{children:e.jsx(h,{autoComplete:"current-password",type:"password",...s})}),e.jsx(j,{})]})}),e.jsx("div",{children:e.jsx(r,{type:"submit",className:"w-full mt-5",children:"เข้าสู่ระบบ"})})]})})]})}function V(){return e.jsx("div",{className:"min-h-screen p-5 mx-auto space-y-10 justify-center items-center flex max-w-[400px]",children:e.jsxs("div",{className:"flex flex-col space-y-5 w-full",children:[e.jsxs("div",{className:"flex items-end",children:[e.jsx(L,{className:"w-20 h-20 text-red-500"}),e.jsxs("h1",{className:"text-4xl font-black text-left ml-2.5 text-red-500 leading-7",children:["WEBBEN",e.jsx("br",{}),e.jsx("span",{className:"text-lg font-medium text-neutral-800",children:"Benjamarachutit"})]})]}),e.jsxs(F,{className:"mx-auto w-full",children:[e.jsxs(S,{children:[e.jsx(B,{className:"text-2xl",children:"เข้าสู่ระบบ"}),e.jsx(k,{children:"กรุณากรอกอีเมลและรหัสผ่านของคุณ"})]}),e.jsx(E,{children:e.jsx(G,{})}),e.jsx(u,{className:"mb-5"}),e.jsx(I,{children:e.jsxs("p",{className:"text-sm text-center text-gray-500",children:["หากยังไม่มีบัญชีผู้ใช้"," ",e.jsx(l,{to:"/auth/signUp",className:"text-red-500",children:"สร้างบัญชีผู้ใช้"})]})})]}),e.jsx(r,{variant:"link",children:e.jsx(l,{to:"/",children:"กลับสู่หน้าหลัก"})})]})})}export{V as default};
